# ğŸš€ **MVNO ìš”ê¸ˆì œ ìˆœìœ„ ì‹œìŠ¤í…œ** 
## **ğŸ’¡ í•œêµ­ MVNO ìš”ê¸ˆì œ íš¨ìœ¨ì„± ë¶„ì„ ë° ìˆœìœ„í™” í”Œë«í¼**

---

## ğŸ“‹ **í”„ë¡œì íŠ¸ ê°œìš”**

### **ğŸ¯ ë¯¸ì…˜**
- **í•œêµ­ MVNO(ì•Œëœ°í°) ìš”ê¸ˆì œ ê°€ì„±ë¹„ ê°ê´€ì  ë¶„ì„**
- **Cost-Spec (CS) ë¹„ìœ¨ ê¸°ë°˜ íš¨ìœ¨ì„± í‰ê°€**
- **ë°ì´í„° ê¸°ë°˜ ì†Œë¹„ì ì„ íƒ ì§€ì›**

### **âœ¨ í•µì‹¬ ê¸°ëŠ¥**
- **Efficiency Frontier ê¸°ë°˜ íšŒê·€ ë¶„ì„** (2025-06-25 êµ¬í˜„)
- **ì‹¤ì‹œê°„ ìš”ê¸ˆì œ ìˆœìœ„í™”**
- **CS ë¹„ìœ¨ ê³„ì‚° ë° ë¹„êµ**
- **ëŒ€í™”í˜• ì°¨íŠ¸ ì‹œê°í™”**
- **RESTful API ì¸í„°í˜ì´ìŠ¤**

---

## ğŸ—ï¸ **ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜**

### **1. ì£¼ìš” ì»´í¬ë„ŒíŠ¸**

```
mvno-plan-ranking/
â”œâ”€â”€ app.py                          # FastAPI ë©”ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜
â”œâ”€â”€ config.py                       # ì„¤ì • ë° ìƒìˆ˜ ì •ì˜
â”œâ”€â”€ requirements.txt                # Python ì˜ì¡´ì„±
â”œâ”€â”€ docker-compose.yml              # Docker ì»¨í…Œì´ë„ˆ ì„¤ì •
â”œâ”€â”€ README.md                       # í”„ë¡œì íŠ¸ ë¬¸ì„œ
â”œâ”€â”€ memory.md                       # ì‘ì—… ë©”ëª¨ë¦¬
â”œâ”€â”€ todolist.md                     # í•  ì¼ ëª©ë¡
â”œâ”€â”€ error.log                       # ì‹œìŠ¤í…œ ë¡œê·¸
â”œâ”€â”€ data/                           # ë°ì´í„° ì €ì¥ì†Œ
â”‚   â”œâ”€â”€ raw/                        # ì›ì‹œ JSON ë°ì´í„°
â”‚   â”œâ”€â”€ processed/                  # ì „ì²˜ë¦¬ëœ CSV ë°ì´í„°
â”‚   â”œâ”€â”€ reports/                    # HTML ë¦¬í¬íŠ¸
â”‚   â””â”€â”€ cache/                      # ìºì‹œ íŒŒì¼
â”œâ”€â”€ modules/                        # í•µì‹¬ ëª¨ë“ˆ
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ data_processing.py          # ë°ì´í„° ì „ì²˜ë¦¬
â”‚   â”œâ”€â”€ feature_engineering.py     # í”¼ì²˜ ì—”ì§€ë‹ˆì–´ë§
â”‚   â”œâ”€â”€ cost_spec/                  # CS ë¹„ìœ¨ ê³„ì‚°
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ ratio.py               # CS ë¹„ìœ¨ ê³„ì‚° ë¡œì§
â”‚   â”‚   â””â”€â”€ features.py            # í”¼ì²˜ ì •ì˜
â”‚   â”œâ”€â”€ regression/                 # íšŒê·€ ë¶„ì„ ëª¨ë“ˆ
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ efficiency_frontier.py # ğŸ†• Efficiency Frontier íšŒê·€
â”‚   â”‚   â”œâ”€â”€ full_dataset.py        # ì „ì²´ ë°ì´í„°ì…‹ íšŒê·€
â”‚   â”‚   â”œâ”€â”€ regression_core.py     # íšŒê·€ ë¶„ì„ ì½”ì–´
â”‚   â”‚   â”œâ”€â”€ multicollinearity_handler.py  # ë‹¤ì¤‘ê³µì„ ì„± ì²˜ë¦¬
â”‚   â”‚   â””â”€â”€ model_validator.py     # ëª¨ë¸ ê²€ì¦
â”‚   â”œâ”€â”€ ranking.py                  # ìˆœìœ„í™” ë¡œì§
â”‚   â”œâ”€â”€ validation.py               # ë°ì´í„° ê²€ì¦
â”‚   â”œâ”€â”€ utils.py                   # ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
â”‚   â”œâ”€â”€ chart/                     # ì°¨íŠ¸ ìƒì„±
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ performance.py         # ì„±ëŠ¥ ì°¨íŠ¸
â”‚   â”‚   â”œâ”€â”€ distribution.py        # ë¶„í¬ ì°¨íŠ¸
â”‚   â”‚   â”œâ”€â”€ comparison.py          # ë¹„êµ ì°¨íŠ¸
â”‚   â”‚   â””â”€â”€ correlation.py         # ìƒê´€ê´€ê³„ ì°¨íŠ¸
â”‚   â”œâ”€â”€ report/                    # ë¦¬í¬íŠ¸ ìƒì„±
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ html_generator.py      # HTML ë¦¬í¬íŠ¸ ìƒì„±
â”‚   â”‚   â”œâ”€â”€ tables.py              # í…Œì´ë¸” ìƒì„±
â”‚   â”‚   â””â”€â”€ formatter.py           # ë°ì´í„° í¬ë§¤íŒ…
â”‚   â””â”€â”€ storage/                   # ë°ì´í„° ì €ì¥
â”‚       â”œâ”€â”€ __init__.py
â”‚       â””â”€â”€ data_storage.py        # ë°ì´í„° ì €ì¥ ë¡œì§
â””â”€â”€ templates/                     # HTML í…œí”Œë¦¿
    â”œâ”€â”€ report_template.html       # ë©”ì¸ ë¦¬í¬íŠ¸ í…œí”Œë¦¿
    â””â”€â”€ status.html               # ìƒíƒœ í˜ì´ì§€ í…œí”Œë¦¿
```

### **2. ë°ì´í„° íë¦„**

```mermaid
graph TD
    A[JSON Raw Data] --> B[Data Preprocessing]
    B --> C[Feature Engineering]
    C --> D[Efficiency Frontier Analysis]
    D --> E[CS Ratio Calculation]
    E --> F[Plan Ranking]
    F --> G[HTML Report Generation]
    G --> H[RESTful API Response]
```

---

## âš¡ **Efficiency Frontier êµ¬í˜„** (2025-06-25)

### **ğŸ¯ í•µì‹¬ ê°œì„ ì‚¬í•­**

#### **1. Pareto ìµœì ì„± ê¸°ë°˜ ë¶„ì„**
- **íš¨ìœ¨ì  ìš”ê¸ˆì œë§Œ ì„ ë³„**: ì „ì²´ 2,325ê°œ ì¤‘ 243ê°œ(10.5%) íš¨ìœ¨ì  ìš”ê¸ˆì œ ì¶”ì¶œ
- **ì§€ë°°ë‹¹ ìš”ê¸ˆì œ ì œê±°**: ë” ë¹„ì‹¸ë©´ì„œ ëœ ì¢‹ì€ ìš”ê¸ˆì œ ë°°ì œ
- **ìˆœìˆ˜í•œ ê°€ê²© ê²½ìŸë ¥ ì¸¡ì •**: ì‹œì¥ ì™œê³¡ ìµœì†Œí™”

#### **2. ë°ì´í„° ê¸°ë°˜ ê³„ìˆ˜ ë„ì¶œ**
- **ì„ì˜ì  ë²”ìœ„ ì œê±°**: ì‚¬ìš©ì ìš”êµ¬ì‚¬í•­ì— ë”°ë¼ ìˆœìˆ˜ ë°ì´í„° ê¸°ë°˜
- **Ridge ì •ê·œí™”**: Î±=1.0ìœ¼ë¡œ ê³¼ì í•© ë°©ì§€
- **ê²½ê³„ ì¡°ê±´**: ê¸°ë³¸ì  ê²½ì œ ë…¼ë¦¬ë§Œ ì ìš© (ìŒìˆ˜ ë°©ì§€)

#### **3. ì„±ëŠ¥ í–¥ìƒ**
- **Basic Data ê³„ìˆ˜**: â‚©1,644/GB â†’ â‚©114.38/GB (93% ê°œì„ )
- **í˜„ì‹¤ì  ë²”ìœ„**: Voice â‚©0.90/ë¶„, Message â‚©2.64/ê±´
- **Commonality Analysis ë¹„í™œì„±í™”**: ê³„ìˆ˜ ì¸í”Œë ˆì´ì…˜ ë¬¸ì œ í•´ê²°

### **ğŸ”§ ê¸°ìˆ ì  êµ¬í˜„**

#### **EfficiencyFrontierRegression í´ë˜ìŠ¤**
```python
# modules/regression/efficiency_frontier.py
class EfficiencyFrontierRegression:
    def __init__(self, features: List[str], alpha: float = 1.0):
        self.features = features
        self.alpha = alpha  # Ridge regularization
        self.efficient_plans = None
        self.coefficients = None
        self.efficiency_ratio = None
        
    def extract_pareto_frontier(self, df: pd.DataFrame) -> pd.DataFrame:
        """Pareto ìµœì  ìš”ê¸ˆì œ ì¶”ì¶œ"""
        
    def solve_efficiency_frontier_coefficients(self, df: pd.DataFrame) -> np.ndarray:
        """íš¨ìœ¨ì  ìš”ê¸ˆì œë§Œìœ¼ë¡œ íšŒê·€ ê³„ìˆ˜ ë„ì¶œ"""
        
    def get_coefficient_breakdown(self) -> Dict:
        """ê³„ìˆ˜ ë¶„ì„ ê²°ê³¼ ë°˜í™˜"""
```

#### **ì‹œìŠ¤í…œ í†µí•©**
- **FullDatasetMultiFeatureRegression**: `use_efficiency_frontier=True` ì˜µì…˜
- **ê¸°ë³¸ method**: `fixed_rates` (Efficiency Frontier ê¸°ë³¸ í™œì„±í™”)
- **Fallback ì‹œìŠ¤í…œ**: ìµœì í™” ì‹¤íŒ¨ ì‹œ ì „í†µì  Ridge íšŒê·€ë¡œ ëŒ€ì²´

---

## ğŸš€ **API ì—”ë“œí¬ì¸íŠ¸**

### **1. ë©”ì¸ ë°ì´í„° ì²˜ë¦¬**
```bash
POST /process
Content-Type: application/json

{
    "options": {
        "method": "fixed_rates",        # ê¸°ë³¸: Efficiency Frontier
        "featureSet": "basic",
        "feeColumn": "fee"
    },
    "data": [...]  # ìš”ê¸ˆì œ JSON ë°°ì—´
}
```

### **2. HTML ë¦¬í¬íŠ¸ ì¡°íšŒ**
```bash
GET /
```

### **3. ì°¨íŠ¸ ìƒíƒœ ëª¨ë‹ˆí„°ë§**
```bash
GET /chart-status           # ì „ì²´ ì°¨íŠ¸ ìƒíƒœ
GET /chart-data/{type}      # íŠ¹ì • ì°¨íŠ¸ ë°ì´í„°
```

### **4. ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§**
```bash
GET /performance            # ì„±ëŠ¥ í†µê³„
GET /status                 # ì‹œìŠ¤í…œ ìƒíƒœ
```

---

## ğŸ“Š **ë°ì´í„° ëª¨ë¸**

### **1. ìš”ê¸ˆì œ ë°ì´í„° êµ¬ì¡°**
```json
{
    "id": 12345,
    "plan_name": "ì•Œëœ°í° ë°ì´í„° 15GB",
    "mvno": "ì•Œëœ°ëª¨ë°”ì¼",
    "basic_data": 15.0,
    "voice": 300,
    "message": 100,
    "fee": 25000,
    "original_fee": 25000
}
```

### **2. CS ë¹„ìœ¨ ê³„ì‚° ê²°ê³¼**
```json
{
    "B": 18213.23,                    # ë² ì´ìŠ¤ë¼ì¸ ë¹„ìš©
    "CS": 0.7285,                     # Cost-Spec ë¹„ìœ¨
    "rank": 1,                        # ìˆœìœ„
    "efficiency_ratio": 0.105         # íš¨ìœ¨ì„± ë¹„ìœ¨
}
```

### **3. íšŒê·€ ê³„ìˆ˜ êµ¬ì¡°**
```json
{
    "method": "efficiency_frontier",
    "base_cost": 5144.0,
    "feature_costs": {
        "basic_data_clean": {
            "coefficient": 114.38,
            "cost_per_unit": 114.38
        },
        "voice_clean": {
            "coefficient": 0.90,
            "cost_per_unit": 0.90
        }
    }
}
```

---

## âš™ï¸ **ì„¤ì¹˜ ë° ì‹¤í–‰**

### **1. í™˜ê²½ ìš”êµ¬ì‚¬í•­**
- **Python 3.9+**
- **FastAPI**
- **Pandas, NumPy, SciPy**
- **Plotly** (ì°¨íŠ¸ ìƒì„±)

### **2. ë¡œì»¬ ì‹¤í–‰**
```bash
# ì˜ì¡´ì„± ì„¤ì¹˜
pip install -r requirements.txt

# ì„œë²„ ì‹¤í–‰
uvicorn app:app --host 0.0.0.0 --port 7860

# ë¸Œë¼ìš°ì €ì—ì„œ ì ‘ì†
# http://localhost:7860
```

### **3. Docker ì‹¤í–‰**
```bash
docker-compose up -d
```

---

## ğŸ“ˆ **ì„±ëŠ¥ ì§€í‘œ**

### **ğŸ¯ Efficiency Frontier ê²°ê³¼ (2025-06-25)**
- **ì²˜ë¦¬ ì‹œê°„**: ~191ì´ˆ (2,325ê°œ ìš”ê¸ˆì œ)
- **íš¨ìœ¨ì„± ë¹„ìœ¨**: 10.5% (243ê°œ íš¨ìœ¨ì  ìš”ê¸ˆì œ)
- **ê³„ìˆ˜ ê°œì„ **: Basic Data 93% ê°œì„ 
- **ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰**: ìµœì í™”ë¨

### **ğŸ“Š ì£¼ìš” ê³„ìˆ˜**
| í”¼ì²˜ | ê³„ìˆ˜ ê°’ | ë‹¨ìœ„ |
|------|---------|------|
| Base Cost | â‚©5,144 | ê¸°ë³¸ ë¹„ìš© |
| Basic Data | â‚©114.38 | /GB |
| Voice | â‚©0.90 | /ë¶„ |
| Message | â‚©2.64 | /ê±´ |
| 5G Premium | â‚©8,499 | ê³ ì • |

---

## ğŸ”¬ **ê¸°ìˆ ì  íŠ¹ì§•**

### **1. Efficiency Frontier ì•Œê³ ë¦¬ì¦˜**
- **Pareto ë„ë¯¸ë„ŒìŠ¤ ì²´í¬**: ë‹¤ì°¨ì› íš¨ìœ¨ì„± ë¶„ì„
- **Ridge ì •ê·œí™”**: ê³¼ì í•© ë°©ì§€
- **ì œì•½ ì¡°ê±´**: ê²½ì œì  íƒ€ë‹¹ì„± ë³´ì¥

### **2. ìºì‹± ë° ìµœì í™”**
- **DataFrame ì—°ì‚° ìºì‹±**: ì¤‘ë³µ ê³„ì‚° ë°©ì§€
- **ë©”ëª¨ë¦¬ ëª¨ë‹ˆí„°ë§**: ëŒ€ìš©ëŸ‰ ë°ì´í„° ì²˜ë¦¬
- **ê°€ë¹„ì§€ ì»¬ë ‰ì…˜**: ë©”ëª¨ë¦¬ íš¨ìœ¨ì„±

### **3. í™•ì¥ì„±**
- **ëª¨ë“ˆí™”ëœ ì•„í‚¤í…ì²˜**: ê° ê¸°ëŠ¥ë³„ ë…ë¦½ ëª¨ë“ˆ
- **í”ŒëŸ¬ê·¸ì¸ ê°€ëŠ¥í•œ íšŒê·€ ë°©ë²•**: ìƒˆë¡œìš´ ì•Œê³ ë¦¬ì¦˜ ì¶”ê°€ ìš©ì´
- **ë¹„ë™ê¸° ì°¨íŠ¸ ìƒì„±**: ë°±ê·¸ë¼ìš´ë“œ ì²˜ë¦¬

---

## ğŸ› **ë¬¸ì œ í•´ê²°**

### **1. ê³µí†µ ì´ìŠˆ**
- **ê³„ìˆ˜ í…Œì´ë¸” ë¯¸í‘œì‹œ**: HTML í…œí”Œë¦¿ ë° cost_structure ì „ë‹¬ í™•ì¸
- **ë©”ëª¨ë¦¬ ë¶€ì¡±**: ëŒ€ìš©ëŸ‰ ë°ì´í„° ì²˜ë¦¬ ì‹œ ë°°ì¹˜ í¬ê¸° ì¡°ì •
- **ì°¨íŠ¸ ë¡œë”© ì‹¤íŒ¨**: ë°±ê·¸ë¼ìš´ë“œ ê³„ì‚° ì™„ë£Œ ëŒ€ê¸°

### **2. ë¡œê·¸ ëª¨ë‹ˆí„°ë§**
```bash
# ì‹¤ì‹œê°„ ë¡œê·¸ í™•ì¸
tail -f error.log

# íšŒê·€ ê´€ë ¨ ë¡œê·¸ í•„í„°ë§
grep -i "efficiency\|regression\|coefficient" error.log
```

---

## ğŸ“ **ë¬¸ì˜ ë° ì§€ì›**

### **ğŸ”— ì£¼ìš” ë§í¬**
- **API ë¬¸ì„œ**: `/docs` (FastAPI ìë™ ìƒì„±)
- **ìƒíƒœ í˜ì´ì§€**: `/status`
- **ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§**: `/performance`

### **ğŸ“§ ê°œë°œíŒ€ ì—°ë½ì²˜**
- **ì´ìŠˆ ë¦¬í¬íŒ…**: GitHub Issues
- **ê¸°ëŠ¥ ì œì•ˆ**: Feature Requests
- **ê¸°ìˆ  ë¬¸ì˜**: Technical Support

---

*ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸: 2025-06-25 (Efficiency Frontier êµ¬í˜„)*
